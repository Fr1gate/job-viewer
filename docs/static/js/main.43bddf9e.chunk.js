(this["webpackJsonpgithub-jobs_react-redux"]=this["webpackJsonpgithub-jobs_react-redux"]||[]).push([[0],{20:function(e,t,a){},21:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),r=a(4),n=a.n(r),l=a(2),i=a(6),o=a(5),j=a(3),h={PAGEUP:"PAGEUP",SEARCH:"SEARCH",GETLISTSUCCESS:"GETLISTSUCCESS",GETLISTFAIL:"GETLISTFAIL",GETJOBSUCCESS:"GETJOBSUCCESS",REQUESTLIST:"REQUESTLIST",SETCURRENTPAGE:"SETCURRENTPAGE",SETFILTER:"SETFILTER",SETSEARCHSTRING:"SETSEARCHSTRING",SWITCHSEARCHMODE:"SWITCHSEARCHMODE",SWITCHWAIT:"SWITCHWAIT"};var d=a(10),b=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.b,u=Object(i.c)((function(e,t){switch(t.type){case h.SETCURRENTPAGE:return Object(j.a)(Object(j.a)({},e),{},{currentPage:t.payload});case h.GETLISTSUCCESS:return Object(j.a)(Object(j.a)({},e),{},{results:t.payload,currentPage:1});case h.SETFILTER:return Object(j.a)(Object(j.a)({},e),{},{filters:Object(j.a)(Object(j.a)({},e.filters),{},Object(o.a)({},t.payload[0],t.payload[1]))});case h.SETSEARCHSTRING:return Object(j.a)(Object(j.a)({},e),{},{searchString:t.payload});case h.SWITCHSEARCHMODE:var a=!e.searchMode;return Object(j.a)(Object(j.a)({},e),{},{searchMode:a});case h.GETJOBSUCCESS:return Object(j.a)(Object(j.a)({},e),{},{vacancy:t.payload});case h.SWITCHWAIT:var c=!e.awaitingResponse;return Object(j.a)(Object(j.a)({},e),{},{awaitingResponse:c});default:return Object(j.a)({},e)}}),{awaitingResponse:!1,results:[],currentPage:1,filters:{schedule:"anySchedule",city:"anyCity"},searchString:"",searchMode:!0,vacancy:{response_url:"#",name:"Waiting for name",schedule:{id:"remote"},created_at:"",employer:{name:"Waiting for employer name",logo_urls:{240:"./static/img/no-image_90.png"}},area:{name:"Earth (most likely)"}}},b(Object(i.a)(d.a))),_={requestList:function(){return function(e){var t=u.getState().searchString,a=u.getState().filters;Object.keys(a).length>0&&Object.keys(a).forEach((function(e){switch(e){case"schedule":switch(a[e]){case"fullTime":t+="&schedule=fullDay";break;case"remote":t+="&schedule=remote"}break;case"city":switch(a[e]){case"msk":t+="&area=1";break;case"spb":t+="&area=2";break;case"tula":t+="&area=92"}}})),e(_.switchAwaitingStatus),fetch("https://api.hh.ru/vacancies?text=".concat(t,"&per_page=100")).then((function(e){if(e.ok)return e.json()})).then((function(t){e(_.getListSuccess(t.items)),e(_.switchAwaitingStatus)})).catch((function(e){console.error(e.message)}))}},requestJob:function(e){return function(t){t(_.switchAwaitingStatus),fetch("https://api.hh.ru/vacancies/".concat(e)).then((function(e){if(e.ok)return e.json()})).then((function(e){t(_.getJobSuccess(e)),t(_.switchAwaitingStatus)})).catch((function(e){console.error(e.message)}))}},getJobSuccess:function(e){return{type:h.GETJOBSUCCESS,payload:e}},getListSuccess:function(e){return{type:h.GETLISTSUCCESS,payload:e}},setCurrentPage:function(e){return{type:h.SETCURRENTPAGE,payload:e}},setFilter:function(e,t){return{type:h.SETFILTER,payload:[e,t]}},setSearchString:function(e){return{type:h.SETSEARCHSTRING,payload:e}},switchSearchMode:function(){return{type:h.SWITCHSEARCHMODE}},switchAwaitingStatus:function(){return{type:h.SWITCHWAIT}}},m=_,O=a(0),f=function(e){var t=Object(l.b)(),a=Object(l.c)((function(e){return e.filters.schedule})),c=Object(l.c)((function(e){return e.filters.city}));function s(e){t(m.setFilter(e.target.name,e.target.id)),t(m.requestList())}return Object(O.jsx)("aside",{className:"filters",children:Object(O.jsxs)("form",{className:"filters__form",children:[Object(O.jsx)("label",{className:"filters__header",children:"\u0413\u0440\u0430\u0444\u0438\u043a"}),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("label",{className:"filters__label filters__label_radio",children:[Object(O.jsx)("input",{className:"filters__radio",id:"anySchedule",type:"radio",name:"schedule",onChange:s,checked:"anySchedule"===a}),"\u041d\u0435\u0432\u0430\u0436\u043d\u043e"]}),Object(O.jsxs)("label",{className:"filters__label filters__label_radio",children:[Object(O.jsx)("input",{className:"filters__radio",id:"fullTime",type:"radio",name:"schedule",onChange:s,checked:"fullTime"===a}),"Full time"]}),Object(O.jsxs)("label",{className:"filters__label filters__label_radio",children:[Object(O.jsx)("input",{className:"filters__radio",id:"remote",type:"radio",name:"schedule",onChange:s,checked:"remote"===a}),"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430"]})]}),Object(O.jsx)("label",{className:"filters__header",children:"\u0413\u043e\u0440\u043e\u0434"}),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("label",{className:"filters__label filters__label_radio",children:[Object(O.jsx)("input",{className:"filters__radio",id:"anyCity",type:"radio",name:"city",onChange:s,checked:"anyCity"===c}),"\u041d\u0435\u0432\u0430\u0436\u043d\u043e"]}),Object(O.jsxs)("label",{className:"filters__label filters__label_radio",children:[Object(O.jsx)("input",{className:"filters__radio",id:"msk",type:"radio",name:"city",onChange:s,checked:"msk"===c}),"\u041c\u043e\u0441\u043a\u0432\u0430"]}),Object(O.jsxs)("label",{className:"filters__label filters__label_radio",children:[Object(O.jsx)("input",{className:"filters__radio",id:"spb",type:"radio",name:"city",onChange:s,checked:"spb"===c}),"\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433"]}),Object(O.jsxs)("label",{className:"filters__label filters__label_radio",children:[Object(O.jsx)("input",{className:"filters__radio",id:"tula",type:"radio",name:"city",onChange:s,checked:"tula"===c}),"\u0422\u0443\u043b\u0430"]})]})]})})};a(20);function p(e){var t=new Date(e),a=new Date,c=Math.floor((a-t)/864e5),s=Math.floor((a-t)/36e5);if(c>0){if(c>10&&c<15)return"".concat(c," \u0434\u043d\u0435\u0439");switch(c%10){case 1:return"".concat(c," \u0434\u0435\u043d\u044c");case 2:case 3:case 4:return"".concat(c," \u0434\u043d\u044f");default:return"".concat(c," \u0434\u043d\u0435\u0439")}}else{if(s>10&&s<15)return"".concat(s," \u0447\u0430\u0441\u043e\u0432");switch(s%10){case 1:return"".concat(s," \u0447\u0430\u0441");case 2:case 3:case 4:return"".concat(s," \u0447\u0430\u0441\u0430");default:return"".concat(s," \u0447\u0430\u0441\u043e\u0432")}}}var g=function(e){var t=Object(l.b)();return Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("div",{className:"card__img-wrapper",style:{width:"90px",height:"90px"},children:Object(O.jsx)("img",{className:"card__img",src:e.logo?e.logo[240]:"./static/img/no-image_90.png",alt:"".concat(e.empName," logo")})}),Object(O.jsxs)("div",{className:"card__info",children:[Object(O.jsx)("h2",{className:"card__company",children:e.empName}),Object(O.jsx)("h3",{className:"card__job-name",onClick:function(a){t(m.switchSearchMode()),t(m.requestJob(e.id))},children:e.name}),Object(O.jsxs)("div",{className:"card__bottom-wrap",children:[Object(O.jsxs)("ul",{className:"labels card__labels",children:["fullDay"===e.schedule?Object(O.jsx)("li",{className:"label",children:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0434\u0435\u043d\u044c"}):"","remote"===e.schedule?Object(O.jsx)("li",{className:"label",children:"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430"}):""]}),Object(O.jsxs)("div",{className:"card__bottom-right",children:[Object(O.jsx)("span",{className:"card__location location",children:e.area}),Object(O.jsx)("span",{className:"card__date date",children:p(e.date)})]})]})]})]})},x=(a(21),function(e){var t=Object(l.b)(),a=Object(l.c)((function(e){return e.currentPage})),c=Array.from(Object(l.c)((function(e){return e.results}))),r=Math.ceil(c.length/4),n=c.length-1,i=4*(a-1),o=[];function j(e){e>0&&e<=r&&t(m.setCurrentPage(e))}function h(e){j(Number(e.target.dataset.page))}if(c.length>0)for(var d=i;d<=n&&d<i+4;d++){var b=c[d];b&&o.push(Object(O.jsx)(g,{name:b.name,logo:b.employer.logo_urls,empName:b.employer.name,date:b.published_at,schedule:b.schedule.id,area:b.area.name,id:b.id}))}return Object(O.jsxs)("div",{className:"results",children:[o.map((function(e){return Object(O.jsx)(s.a.Fragment,{children:e},e.id)})),Object(O.jsxs)("nav",{className:"results__pagination",children:[Object(O.jsx)("button",{className:"results__page results__page_left",onClick:function(e){j(a-1)},children:Object(O.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[Object(O.jsx)("path",{d:"M24 24H0V0h24v24z",fill:"none",opacity:".87"}),Object(O.jsx)("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"})]})}),function(){var e=[];function t(t){e.push(function(e){var t=e===a;return e?Object(O.jsx)("button",{className:t?"results__page results__page_active":"results__page",onClick:h,"data-page":e,children:e}):Object(O.jsx)("span",{className:"results__dots",children:"..."})}(t))}for(var c=!1,s=!1,n=1;n<=r;n++)(1===n||n>=a-1&&n<=a+1||n===r)&&t(n),n>1&&n<a-1&&!c&&(t(false),c=!0),n<r&&n>a+1&&!s&&(t(false),s=!0);return e}(),Object(O.jsx)("button",{className:"results__page results__page_right",onClick:function(e){j(a+1)},children:Object(O.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[Object(O.jsx)("path",{d:"M24 24H0V0h24v24z",fill:"none",opacity:".87"}),Object(O.jsx)("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"})]})})]})]})}),S=function(e){var t=Object(l.b)(),a=Object(l.c)((function(e){return e.searchString}));return Object(O.jsx)("div",{className:"search grid-col-2",children:Object(O.jsxs)("form",{className:"search__form",children:[Object(O.jsx)("label",{htmlFor:"searchfield",children:Object(O.jsxs)("svg",{className:"search__icon",xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[Object(O.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(O.jsx)("path",{d:"M14 6V4h-4v2h4zM4 8v11h16V8H4zm16-2c1.11 0 2 .89 2 2v11c0 1.11-.89 2-2 2H4c-1.11 0-2-.89-2-2l.01-11c0-1.11.88-2 1.99-2h4V4c0-1.11.89-2 2-2h4c1.11 0 2 .89 2 2v2h4z"})]})}),Object(O.jsx)("input",{onChange:function(e){t(m.setSearchString(e.target.value)),t(m.requestList())},className:"search__field textfield",id:"searchfield",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u0437\u0430\u043f\u0440\u043e\u0441, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u043b\u0438\u0441\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b",value:a})]})})},N=(a(22),function(e){var t=Object(l.b)(),a=Object(l.c)((function(e){return e.vacancy}));return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("aside",{className:"info",children:[Object(O.jsxs)("button",{className:"info__link",onClick:function(){t(m.switchSearchMode())},children:[Object(O.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[Object(O.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(O.jsx)("path",{d:"M16.01 11H4v2h12.01v3L20 12l-3.99-4v3z"})]})," \u041d\u0430\u0437\u0430\u0434 \u043a \u043f\u043e\u0438\u0441\u043a\u0443 "]}),Object(O.jsx)("h2",{className:"info__header",children:"\u041a\u0430\u043a \u0441\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f"}),Object(O.jsxs)("p",{className:"info__text",children:["\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u044d\u0442\u0443 \u0441\u0441\u044b\u043b\u043a\u0443 \u0434\u043b\u044f \u043e\u0442\u0432\u0435\u0442\u0430 \u043d\u0430 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044e:",Object(O.jsx)("br",{}),Object(O.jsx)("a",{rel:"noreferrer",target:"_blank",href:a.response_url?a.response_url:"https://hh.ru/vacancy/".concat(a.id),children:"\u0441\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0441 \u0440\u0430\u0431\u043e\u0442\u043e\u0434\u0430\u0442\u0435\u043b\u0435\u043c"})]})]}),Object(O.jsxs)("div",{className:"job",children:[Object(O.jsxs)("div",{className:"job__title",children:[Object(O.jsx)("h2",{className:"job__header",children:a.name?a.name:""}),Object(O.jsxs)("ul",{className:"job__labels labels",children:["fullDay"===a.schedule.id?Object(O.jsx)("li",{className:"label job__label",children:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0434\u0435\u043d\u044c"}):"","remote"===a.schedule.id?Object(O.jsx)("li",{className:"label job__label",children:"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430"}):""]})]}),Object(O.jsx)("span",{className:"job__date date",children:p(a.created_at)}),Object(O.jsxs)("div",{className:"job__company-wrapper",children:[Object(O.jsx)("img",{className:"job__company-logo",src:a.employer&&a.employer.logo_urls?a.employer.logo_urls[240]:"./static/img/no-image_90.png",height:"42",width:"42",alt:a.name+" logo"}),Object(O.jsxs)("div",{className:"job__company-info",children:[Object(O.jsx)("h3",{className:"job__company-name",children:a.employer?a.employer.name:""}),Object(O.jsx)("span",{className:"job__location location",children:a.area?a.area.name:""})]})]}),Object(O.jsx)("div",{className:"job__text",dangerouslySetInnerHTML:{__html:a.branded_description?a.branded_description:a.description?a.description:"NO DESCRIPTION"}})]})]})});var y=function(){var e=Object(l.c)((function(e){return e.searchMode}));return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("header",{className:"grid-col-2",children:Object(O.jsxs)("h1",{className:"logo",children:[Object(O.jsx)("b",{children:"Jobs "}),"viewer"]})}),e?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(S,{}),Object(O.jsx)(f,{}),Object(O.jsx)(x,{})]}):Object(O.jsx)(N,{}),Object(O.jsx)("footer",{className:"footer grid-col-2",children:Object(O.jsx)("div",{className:"footer__signature",children:Object(O.jsxs)("p",{children:["\u0421\u0434\u0435\u043b\u0430\u043d\u043e ",Object(O.jsx)("a",{href:"https://github.com/Fr1gate",target:"_blank",rel:"noreferrer",children:"\u0414\u043c\u0438\u0442\u0440\u0438\u0435\u043c \u041f\u0435\u0440\u0448\u0438\u043a\u043e\u0432\u044b\u043c"})," - \u0414\u0438\u0437\u0430\u0439\u043d \u0432\u0437\u044f\u0442 \u0441 ",Object(O.jsx)("a",{href:"https://devChallenges.io",target:"_blank",rel:"noreferrer",children:"devChallenges.io"})," - \u0412\u0430\u043a\u0430\u043d\u0441\u0438\u0438 \u0437\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0441 API ",Object(O.jsx)("a",{href:"https://dev.hh.ru",target:"_blank",rel:"noreferrer",children:"dev.hh.ru"})]})})})]})},E=document.getElementById("root");n.a.render(Object(O.jsx)(l.a,{store:u,children:Object(O.jsx)(y,{})}),E)}},[[23,1,2]]]);
//# sourceMappingURL=main.43bddf9e.chunk.js.map