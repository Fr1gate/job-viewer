(this["webpackJsonpgithub-jobs_react-redux"]=this["webpackJsonpgithub-jobs_react-redux"]||[]).push([[0],{20:function(e,t,a){},21:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),r=a(4),l=a.n(r),n=a(3),i=a(6),o=a(5),j=a(2),d={PAGEUP:"PAGEUP",SEARCH:"SEARCH",GETLISTSUCCESS:"GETLISTSUCCESS",GETLISTFAIL:"GETLISTFAIL",GETJOBSUCCESS:"GETJOBSUCCESS",REQUESTLIST:"REQUESTLIST",SETCURRENTPAGE:"SETCURRENTPAGE",SETFILTER:"SETFILTER",SETSEARCHSTRING:"SETSEARCHSTRING",SWITCHSEARCHMODE:"SWITCHSEARCHMODE",SWITCHWAIT:"SWITCHWAIT"};var h=a(10),b=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.b,u=Object(i.c)((function(e,t){switch(t.type){case d.SETCURRENTPAGE:return Object(j.a)(Object(j.a)({},e),{},{currentPage:t.payload});case d.GETLISTSUCCESS:return Object(j.a)(Object(j.a)({},e),{},{results:t.payload,currentPage:1});case d.SETFILTER:return Object(j.a)(Object(j.a)({},e),{},{filters:Object(j.a)(Object(j.a)({},e.filters),{},Object(o.a)({},t.payload[0],t.payload[1]))});case d.SETSEARCHSTRING:return Object(j.a)(Object(j.a)({},e),{},{searchString:t.payload});case d.SWITCHSEARCHMODE:var a=!e.searchMode;return Object(j.a)(Object(j.a)({},e),{},{searchMode:a});case d.GETJOBSUCCESS:return Object(j.a)(Object(j.a)({},e),{},{vacancy:t.payload});case d.SWITCHWAIT:var s=!e.awaitingResponse;return Object(j.a)(Object(j.a)({},e),{},{awaitingResponse:s});default:return Object(j.a)({},e)}}),{awaitingResponse:!1,results:[],currentPage:1,filters:{},searchString:"",searchMode:!0,vacancy:{response_url:"#",name:"Waiting for name",schedule:{id:"remote"},created_at:"",employer:{name:"Waiting for employer name",logo_urls:{240:"./static/img/no-image_90.png"}},area:{name:"Earth (most likely)"}}},b(Object(i.a)(h.a))),_={requestList:function(){return function(e){var t=u.getState().searchString,a=u.getState().filters;Object.keys(a).length>0&&Object.keys(a).forEach((function(e){switch(e){case"schedule":switch(a[e]){case"fullTime":t+="&schedule=fullDay";break;case"remote":t+="&schedule=remote"}break;case"city":switch(a[e]){case"msk":t+="&area=1";break;case"spb":t+="&area=2";break;case"tula":t+="&area=92"}}})),e(_.switchAwaitingStatus),fetch("https://api.hh.ru/vacancies?text=".concat(t,"&per_page=100")).then((function(e){if(e.ok)return e.json()})).then((function(t){e(_.getListSuccess(t.items)),e(_.switchAwaitingStatus)})).catch((function(e){console.error(e.message)}))}},requestJob:function(e){return function(t){t(_.switchAwaitingStatus),fetch("https://api.hh.ru/vacancies/".concat(e)).then((function(e){if(e.ok)return e.json()})).then((function(e){t(_.getJobSuccess(e)),t(_.switchAwaitingStatus)})).catch((function(e){console.error(e.message)}))}},getJobSuccess:function(e){return{type:d.GETJOBSUCCESS,payload:e}},getListSuccess:function(e){return{type:d.GETLISTSUCCESS,payload:e}},setCurrentPage:function(e){return{type:d.SETCURRENTPAGE,payload:e}},setFilter:function(e,t){return{type:d.SETFILTER,payload:[e,t]}},setSearchString:function(e){return{type:d.SETSEARCHSTRING,payload:e}},switchSearchMode:function(){return{type:d.SWITCHSEARCHMODE}},switchAwaitingStatus:function(){return{type:d.SWITCHWAIT}}},m=_,O=a(0),p=function(e){var t=Object(n.b)();function a(e){t(m.setFilter(e.target.name,e.target.id)),t(m.requestList())}return Object(O.jsx)("aside",{className:"filters",children:Object(O.jsxs)("form",{className:"filters__form",children:[Object(O.jsx)("label",{className:"filters__header",children:"\u0413\u0440\u0430\u0444\u0438\u043a"}),Object(O.jsxs)("label",{className:"filters__label filters__label_radio",children:[Object(O.jsx)("input",{className:"filters__radio",id:"anySchedule",type:"radio",name:"schedule",onChange:a}),"\u041d\u0435\u0432\u0430\u0436\u043d\u043e"]}),Object(O.jsxs)("label",{className:"filters__label filters__label_radio",children:[Object(O.jsx)("input",{className:"filters__radio",id:"fullTime",type:"radio",name:"schedule",onChange:a}),"Full time"]}),Object(O.jsxs)("label",{className:"filters__label filters__label_radio",children:[Object(O.jsx)("input",{className:"filters__radio",id:"remote",type:"radio",name:"schedule",onChange:a}),"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430"]}),Object(O.jsx)("label",{className:"filters__header",children:"\u0413\u043e\u0440\u043e\u0434"}),Object(O.jsxs)("label",{className:"filters__label filters__label_radio",children:[Object(O.jsx)("input",{className:"filters__radio",id:"anyCity",type:"radio",name:"city",onChange:a}),"\u041d\u0435\u0432\u0430\u0436\u043d\u043e"]}),Object(O.jsxs)("label",{className:"filters__label filters__label_radio",children:[Object(O.jsx)("input",{className:"filters__radio",id:"msk",type:"radio",name:"city",onChange:a}),"\u041c\u043e\u0441\u043a\u0432\u0430"]}),Object(O.jsxs)("label",{className:"filters__label filters__label_radio",children:[Object(O.jsx)("input",{className:"filters__radio",id:"spb",type:"radio",name:"city",onChange:a}),"\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433"]}),Object(O.jsxs)("label",{className:"filters__label filters__label_radio",children:[Object(O.jsx)("input",{className:"filters__radio",id:"tula",type:"radio",name:"city",onChange:a}),"\u0422\u0443\u043b\u0430"]})]})})};a(20);function f(e){var t=new Date(e),a=new Date,s=Math.floor((a-t)/864e5),c=Math.floor((a-t)/36e5);if(s>0){if(s>10&&s<15)return"".concat(s," \u0434\u043d\u0435\u0439");switch(s%10){case 1:return"".concat(s," \u0434\u0435\u043d\u044c");case 2:case 3:case 4:return"".concat(s," \u0434\u043d\u044f");default:return"".concat(s," \u0434\u043d\u0435\u0439")}}else{if(c>10&&c<15)return"".concat(c," \u0447\u0430\u0441\u043e\u0432");switch(c%10){case 1:return"".concat(c," \u0447\u0430\u0441");case 2:case 3:case 4:return"".concat(c," \u0447\u0430\u0441\u0430");default:return"".concat(c," \u0447\u0430\u0441\u043e\u0432")}}}var g=function(e){var t=Object(n.b)();return Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("div",{className:"card__img-wrapper",style:{width:"90px",height:"90px"},children:Object(O.jsx)("img",{className:"card__img",src:e.logo?e.logo[240]:"./static/img/no-image_90.png",alt:"".concat(e.empName," logo")})}),Object(O.jsxs)("div",{className:"card__info",children:[Object(O.jsx)("h2",{className:"card__company",children:e.empName}),Object(O.jsx)("h3",{className:"card__job-name",onClick:function(a){t(m.switchSearchMode()),t(m.requestJob(e.id))},children:e.name}),Object(O.jsxs)("div",{className:"card__bottom-wrap",children:[Object(O.jsxs)("ul",{className:"labels card__labels",children:["fullDay"===e.schedule?Object(O.jsx)("li",{className:"label",children:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0434\u0435\u043d\u044c"}):"","remote"===e.schedule?Object(O.jsx)("li",{className:"label",children:"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430"}):""]}),Object(O.jsxs)("div",{className:"card__bottom-right",children:[Object(O.jsx)("span",{className:"card__location location",children:e.area}),Object(O.jsx)("span",{className:"card__date date",children:f(e.date)})]})]})]})]})},x=function(e){var t=Object(n.b)(),a=Object(n.c)((function(e){return e.currentPage})),s=Array.from(Object(n.c)((function(e){return e.results}))),r=Math.ceil(s.length/4),l=s.length-1,i=4*(a-1),o=[];function j(e){e>0&&e<=r&&t(m.setCurrentPage(e))}function d(e){j(Number(e.target.dataset.page))}if(s.length>0)for(var h=i;h<=l&&h<i+4;h++){var b=s[h];b&&o.push(Object(O.jsx)(g,{name:b.name,logo:b.employer.logo_urls,empName:b.employer.name,date:b.published_at,schedule:b.schedule.id,area:b.area.name,id:b.id}))}return Object(O.jsxs)("div",{className:"results",children:[o.map((function(e){return Object(O.jsx)(c.a.Fragment,{children:e},e.id)})),Object(O.jsxs)("nav",{className:"results__pagination",children:[Object(O.jsx)("button",{className:"results__page results__page_left",onClick:function(e){j(a-1)},children:Object(O.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[Object(O.jsx)("path",{d:"M24 24H0V0h24v24z",fill:"none",opacity:".87"}),Object(O.jsx)("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"})]})}),function(){var e=[];function t(t){e.push(function(e){var t=e===a;return e?Object(O.jsx)("button",{className:t?"results__page results__page_active":"results__page",onClick:d,"data-page":e,children:e}):Object(O.jsx)("span",{className:"results__dots",children:"..."})}(t))}for(var s=!1,c=!1,l=1;l<=r;l++)(1===l||l>=a-1&&l<=a+1||l===r)&&t(l),l>1&&l<a-1&&!s&&(t(false),s=!0),l<r&&l>a+1&&!c&&(t(false),c=!0);return e}(),Object(O.jsx)("button",{className:"results__page results__page_right",onClick:function(e){j(a+1)},children:Object(O.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[Object(O.jsx)("path",{d:"M24 24H0V0h24v24z",fill:"none",opacity:".87"}),Object(O.jsx)("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"})]})})]})]})},S=function(e){var t=Object(n.b)();return Object(O.jsx)("div",{className:"search grid-col-2",children:Object(O.jsxs)("form",{className:"search__form",children:[Object(O.jsx)("label",{htmlFor:"searchfield",children:Object(O.jsxs)("svg",{className:"search__icon",xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[Object(O.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(O.jsx)("path",{d:"M14 6V4h-4v2h4zM4 8v11h16V8H4zm16-2c1.11 0 2 .89 2 2v11c0 1.11-.89 2-2 2H4c-1.11 0-2-.89-2-2l.01-11c0-1.11.88-2 1.99-2h4V4c0-1.11.89-2 2-2h4c1.11 0 2 .89 2 2v2h4z"})]})}),Object(O.jsx)("input",{onChange:function(e){t(m.setSearchString(e.target.value)),t(m.requestList())},className:"search__field textfield",id:"searchfield",placeholder:"Title, companies, expertise or benefits"}),Object(O.jsx)("button",{className:"search__submit",children:"Search"})]})})},N=(a(21),function(e){var t=Object(n.b)(),a=Object(n.c)((function(e){return e.vacancy}));return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("aside",{className:"info",children:[Object(O.jsxs)("button",{className:"info__link",onClick:function(){t(m.switchSearchMode())},children:[Object(O.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[Object(O.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(O.jsx)("path",{d:"M16.01 11H4v2h12.01v3L20 12l-3.99-4v3z"})]})," \u041d\u0430\u0437\u0430\u0434 \u043a \u043f\u043e\u0438\u0441\u043a\u0443 "]}),Object(O.jsx)("h2",{className:"info__header",children:"\u041a\u0430\u043a \u0441\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f"}),Object(O.jsxs)("p",{className:"info__text",children:["\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u044d\u0442\u0443 \u0441\u0441\u044b\u043b\u043a\u0443 \u0434\u043b\u044f \u043e\u0442\u0432\u0435\u0442\u0430 \u043d\u0430 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044e:",Object(O.jsx)("br",{}),Object(O.jsx)("a",{rel:"noreferrer",target:"_blank",href:a.response_url?a.response_url:"https://hh.ru/vacancy/".concat(a.id),children:"\u0441\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0441 \u0440\u0430\u0431\u043e\u0442\u043e\u0434\u0430\u0442\u0435\u043b\u0435\u043c"})]})]}),Object(O.jsxs)("div",{className:"job",children:[Object(O.jsxs)("div",{className:"job__title",children:[Object(O.jsx)("h2",{className:"job__header",children:a.name?a.name:""}),Object(O.jsxs)("ul",{className:"job__labels labels",children:["fullDay"===a.schedule.id?Object(O.jsx)("li",{className:"label job__label",children:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0434\u0435\u043d\u044c"}):"","remote"===a.schedule.id?Object(O.jsx)("li",{className:"label job__label",children:"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430"}):""]})]}),Object(O.jsx)("span",{className:"job__date date",children:f(a.created_at)}),Object(O.jsxs)("div",{className:"job__company-wrapper",children:[Object(O.jsx)("img",{className:"job__company-logo",src:a.employer&&a.employer.logo_urls?a.employer.logo_urls[240]:"./static/img/no-image_90.png",height:"42",width:"42",alt:a.name+" logo"}),Object(O.jsxs)("div",{className:"job__company-info",children:[Object(O.jsx)("h3",{className:"job__company-name",children:a.employer?a.employer.name:""}),Object(O.jsx)("span",{className:"job__location location",children:a.area?a.area.name:""})]})]}),Object(O.jsx)("div",{className:"job__text",dangerouslySetInnerHTML:{__html:a.branded_description?a.branded_description:a.description?a.description:"NO DESCRIPTION"}})]})]})});var E=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("header",{className:"grid-col-2",children:Object(O.jsxs)("h1",{className:"logo",children:[Object(O.jsx)("b",{children:"Github "}),"Jobs"]})}),Object(n.c)((function(e){return e.searchMode}))?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(S,{}),Object(O.jsx)(p,{}),Object(O.jsx)(x,{})]}):Object(O.jsx)(N,{}),Object(O.jsx)("footer",{className:"footer grid-col-2",children:Object(O.jsx)("div",{className:"footer__signature",children:Object(O.jsxs)("p",{children:["created by ",Object(O.jsx)("a",{href:"https://github.com/Fr1gate",children:"Dmitry Pershikov"})," - ",Object(O.jsx)("a",{href:"https://devChallenges.io",children:"devChallenges.io"})]})})})]})},v=document.getElementById("root");l.a.render(Object(O.jsx)(n.a,{store:u,children:Object(O.jsx)(E,{})}),v)}},[[22,1,2]]]);
//# sourceMappingURL=main.7dc22cca.chunk.js.map